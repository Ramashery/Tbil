<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tbil Home Hostel – Your Home in Tbilisi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #046bd2;
            --primary-dark: #045cb4;
            --text-dark: #1e293b;
            --text-medium: #334155;
            --light-bg: #f9fafb;
            --white: #ffffff;
            --border: #e2e8f0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --radius: 8px;
            --transition: all 0.3s ease;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; color: var(--text-medium); line-height: 1.6; overflow-x: hidden; }
        h1, h2, h3, h4, h5, h6 { color: var(--text-dark); font-weight: 600; line-height: 1.3; }
        .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        section { padding: 80px 0; }
        .btn { display: inline-block; background-color: var(--primary); color: var(--white); padding: 12px 28px; border-radius: var(--radius); text-decoration: none; font-weight: 500; transition: var(--transition); border: none; cursor: pointer; }
        .btn:hover { background-color: var(--primary-dark); transform: translateY(-2px); }
        .btn-outline { background-color: transparent; border: 1px solid var(--primary); color: var(--primary); }
        .btn-outline:hover { background-color: var(--primary); color: var(--white); }
        header { position: fixed; top: 0; left: 0; width: 100%; background-color: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); z-index: 1000; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); transition: var(--transition); }
        header.scrolled { box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1); }
        .header-container { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; }
        .logo img { height: 50px; }
        .nav-menu { display: flex; list-style: none; }
        .nav-menu li { margin-left: 30px; }
        .nav-menu a { text-decoration: none; color: var(--text-dark); font-weight: 500; transition: var(--transition); position: relative; }
        .nav-menu a:hover { color: var(--primary); }
        .nav-menu a::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 2px; background-color: var(--primary); transition: var(--transition); }
        .nav-menu a:hover::after { width: 100%; }
        .mobile-menu-btn { display: none; background: none; border: none; font-size: 1.5rem; color: var(--text-dark); cursor: pointer; }
        .hero { height: 100vh; background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://tbilhome.com/wp-content/uploads/2023/01/19029470_1419408268120543_3062914836182514011_n-2.jpg'); background-size: cover; background-position: center; display: flex; align-items: center; color: var(--white); text-align: center; position: relative; }
        .hero-content { max-width: 800px; margin: 0 auto; padding: 0 20px; }
        .hero h1 { font-size: 3.5rem; margin-bottom: 20px; color: var(--white); line-height: 1.2; }
        .hero p { font-size: 1.2rem; margin-bottom: 30px; opacity: 0.9; }
        .section-header { text-align: center; margin-bottom: 60px; }
        .section-header h2 { font-size: 2.5rem; margin-bottom: 15px; }
        .facilities-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; }
        .facility-card { background-color: var(--white); border-radius: var(--radius); padding: 30px; text-align: center; box-shadow: var(--shadow); transition: var(--transition); }
        .facility-icon { font-size: 2.5rem; color: var(--primary); margin-bottom: 20px; }
        .rooms-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .room-card { background-color: var(--white); border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); transition: var(--transition); }
        .room-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1); }
        .room-image { height: 200px; overflow: hidden; }
        .room-image img { width: 100%; height: 100%; object-fit: cover; transition: var(--transition); }
        .room-card:hover .room-image img { transform: scale(1.05); }
        .room-content { padding: 25px; }
        .room-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; }
        .room-title { font-size: 1.3rem; margin-bottom: 5px; }
        .room-price { font-weight: 600; color: var(--primary); font-size: 1.2rem; }
        .room-features { list-style: none; margin-bottom: 20px; }
        .room-features li { display: flex; align-items: center; margin-bottom: 8px; }
        .room-features i { color: var(--primary); margin-right: 10px; width: 16px; }
        .room-actions { display: flex; justify-content: space-between; align-items: center; }
        .about-content { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: center; }
        .gallery-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; }
        .gallery-item { border-radius: var(--radius); overflow: hidden; height: 250px; position: relative; }
        .gallery-item img { width: 100%; height: 100%; object-fit: cover; transition: var(--transition); }
        .contact-content { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; }
        .contact-item { display: flex; align-items: flex-start; }
        .contact-icon { background-color: var(--light-bg); color: var(--primary); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; flex-shrink: 0; }
        footer { background-color: var(--text-dark); color: var(--white); padding: 60px 0 30px; }
        .footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px; margin-bottom: 40px; }
        .footer-logo img { height: 50px; margin-bottom: 15px; }
        .footer-links ul { list-style: none; }
        .footer-links a { color: var(--white); text-decoration: none; opacity: 0.8; transition: var(--transition); }
        .footer-links a:hover { opacity: 1; color: var(--primary); }
        .footer-contact i { margin-right: 10px; color: var(--primary); }
        .social-links { display: flex; gap: 15px; margin-top: 20px; }
        .social-links a { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background-color: rgba(255, 255, 255, 0.1); border-radius: 50%; color: var(--white); text-decoration: none; transition: var(--transition); }
        .social-links a:hover { background-color: var(--primary); transform: translateY(-3px); }
        .footer-bottom { text-align: center; padding-top: 30px; border-top: 1px solid rgba(255, 255, 255, 0.1); opacity: 0.7; font-size: 0.9rem; }
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); }
        .modal-content { background-color: var(--white); margin: 10% auto; padding: 30px; border-radius: var(--radius); width: 90%; max-width: 500px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .close-btn { color: #aaa; font-size: 28px; font-weight: bold; cursor: pointer; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; }
        .form-control { width: 100%; padding: 12px 15px; border: 1px solid var(--border); border-radius: var(--radius); font-family: 'Inter', sans-serif; }
        @media (max-width: 768px) { .nav-menu { position: fixed; top: 0; right: 0; width: 300px; height: 100vh; background-color: var(--white); flex-direction: column; padding: 100px 40px; box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1); transform: translateX(100%); transition: transform 0.4s ease-in-out; z-index: 999; } .nav-menu.active { transform: translateX(0); } .mobile-menu-btn { display: block; } }
    </style>
</head>
<body>
    <!-- Header (ПОЛНОСТЬЮ ВОССТАНОВЛЕН) -->
    <header id="header">
        <div class="container header-container">
            <div class="logo">
                <a href="#"><img src="https://tbilhome.com/wp-content/uploads/2023/01/logo1-1-1.png" alt="Tbil Home Hostel"></a>
            </div>
            <nav>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#facilities">Facilities</a></li>
                    <li><a href="#rooms">Rooms</a></li>
                    <li><a href="#gallery">Gallery</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Hero Section (без изменений) -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Your Home in Tbilisi</h1>
            <p>Experience authentic Georgian hospitality in the heart of the historic city</p>
            <a href="#rooms" class="btn">Book Your Stay</a>
        </div>
    </section>

    <!-- Facilities Section (ПОЛНОСТЬЮ ВОССТАНОВЛЕНА) -->
    <section class="facilities" id="facilities">
        <div class="container">
            <div class="section-header">
                <h2>Our Facilities</h2>
                <p>Everything you need for a comfortable stay in Tbilisi</p>
            </div>
            <div class="facilities-grid">
                <div class="facility-card"><div class="facility-icon"><i class="fas fa-wifi"></i></div><h3>High-Speed WiFi</h3><p>Stay connected with our fast and reliable internet</p></div>
                <div class="facility-card"><div class="facility-icon"><i class="fas fa-snowflake"></i></div><h3>Air Conditioning</h3><p>Comfort in any season with climate control</p></div>
                <div class="facility-card"><div class="facility-icon"><i class="fas fa-utensils"></i></div><h3>Fully Equipped Kitchen</h3><p>Prepare your own meals with our modern kitchen</p></div>
                <div class="facility-card"><div class="facility-icon"><i class="fas fa-tv"></i></div><h3>Common Area with TV</h3><p>Relax and socialize in our comfortable lounge</p></div>
                <div class="facility-card"><div class="facility-icon"><i class="fas fa-tshirt"></i></div><h3>Laundry Service</h3><p>Keep your clothes fresh during your travels</p></div>
                <div class="facility-card"><div class="facility-icon"><i class="fas fa-map-marked-alt"></i></div><h3>Prime Location</h3><p>In the historic center, close to all attractions</p></div>
            </div>
        </div>
    </section>

    <!-- Rooms Section (ДИНАМИЧЕСКИЙ) -->
    <section class="rooms" id="rooms">
        <div class="container">
            <div class="section-header">
                <h2>Our Rooms</h2>
                <p>Choose the perfect accommodation for your Tbilisi adventure</p>
            </div>
            <div class="rooms-grid" id="roomsGrid">
                <!-- Карточки номеров будут вставлены сюда JS -->
            </div>
        </div>
    </section>

    <!-- About Section (ДИНАМИЧЕСКИЙ) -->
    <section class="about" id="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text" id="aboutTextContainer">
                    <h2>Our Hostel</h2>
                    <!-- Текст будет вставлен сюда JS -->
                </div>
                <div class="about-image">
                    <img src="https://tbilhome.com/wp-content/uploads/2023/01/1111.jpg" alt="Tbilhome Hostel">
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section (ДИНАМИЧЕСКИЙ) -->
    <section class="gallery" id="gallery">
        <div class="container">
            <div class="section-header">
                <h2>Gallery</h2>
                <p>Take a look at our comfortable spaces and facilities</p>
            </div>
            <div class="gallery-grid" id="galleryGrid">
                <!-- Изображения будут вставлены сюда JS -->
            </div>
        </div>
    </section>

    <!-- Contact Section (ПОЛНОСТЬЮ ВОССТАНОВЛЕНА) -->
    <section class="contact" id="contact">
        <div class="container">
            <div class="section-header">
                <h2>Contact Us</h2>
                <p>Get in touch for bookings or any questions</p>
            </div>
            <div class="contact-content">
                <div class="contact-info">
                    <div class="contact-item"><div class="contact-icon"><i class="fas fa-map-marker-alt"></i></div><div><h4>Location</h4><p>Tbilisi, Irgvlivi Turn 1</p></div></div>
                    <div class="contact-item"><div class="contact-icon"><i class="fas fa-phone-alt"></i></div><div><h4>Phone</h4><p>+995 551 422 415</p></div></div>
                    <div class="contact-item"><div class="contact-icon"><i class="fas fa-envelope"></i></div><div><h4>Email</h4><p>info@tbilhome.com</p></div></div>
                </div>
                <div class="contact-form">
                    <form>
                        <div class="form-group"><label for="name">Name</label><input type="text" id="name" class="form-control" required></div>
                        <div class="form-group"><label for="email">Email</label><input type="email" id="email" class="form-control" required></div>
                        <div class="form-group"><label for="message">Message</label><textarea id="message" rows="5" class="form-control" required></textarea></div>
                        <button type="submit" class="btn">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (ПОЛНОСТЬЮ ВОССТАНОВЛЕН) -->
    <footer id="pageFooter">
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <div class="footer-logo"><img src="https://tbilhome.com/wp-content/uploads/2023/01/logo1-1-1.png" alt="Tbil Home Hostel"></div>
                    <p>Your home away from home in the heart of Tbilisi. Experience Georgian hospitality at its finest.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#rooms">Rooms</a></li>
                        <li><a href="#gallery">Gallery</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>Contact Info</h4>
                    <p><i class="fas fa-map-marker-alt"></i> Tbilisi, Irgvlivi Turn 1</p>
                    <p><i class="fas fa-phone-alt"></i> +995 551 422 415</p>
                    <p><i class="fas fa-envelope"></i> info@tbilhome.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Tbil Home Hostel. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Модальное окно для бронирования -->
    <div id="bookingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="bookingModalTitle">Book a Room</h2>
                <span class="close-btn" id="closeBookingModal">&times;</span>
            </div>
            <form id="bookingForm">
                <input type="hidden" id="bookingRoomId">
                <div class="form-group"><label for="guestName">Your Name</label><input type="text" id="guestName" class="form-control" required></div>
                <div class="form-group"><label for="checkInDate">Check-in Date</label><input type="date" id="checkInDate" class="form-control" required></div>
                <div class="form-group"><label for="stayDuration">Duration (nights)</label><input type="number" id="stayDuration" class="form-control" min="1" value="1" required></div>
                <div class="form-group"><label for="numberOfGuests">Number of Guests</label><input type="number" id="numberOfGuests" class="form-control" min="1" value="1" required></div>
                <button type="submit" class="btn">Check Availability & Book</button>
            </form>
        </div>
    </div>

    <!-- Весь JS (динамическая загрузка + бронирование + старые скрипты) -->
    <script>
        // --- СКРИПТЫ ДЛЯ ДИНАМИЧЕСКОГО КОНТЕНТА И БРОНИРОВАНИЯ ---
        document.addEventListener('DOMContentLoaded', () => {
            const getRoomsData = () => JSON.parse(localStorage.getItem('rooms')) || [];
            const getBookingsData = () => JSON.parse(localStorage.getItem('bookings')) || [];
            const getAboutData = () => localStorage.getItem('about') || 'Информация о хостеле скоро появится...';
            const getGalleryData = () => JSON.parse(localStorage.getItem('gallery')) || [];

            const loadRooms = () => {
                const rooms = getRoomsData();
                const container = document.getElementById('roomsGrid');
                if (!container) return;
                container.innerHTML = rooms.map(room => {
                    const featuresHTML = room.description.split(',').map(f => `<li><i class="fas fa-check"></i> ${f.trim()}</li>`).join('');
                    return `
                        <div class="room-card">
                            <div class="room-image"><img src="${room.image}" alt="${room.title}"></div>
                            <div class="room-content">
                                <div class="room-header">
                                    <div><h3 class="room-title">${room.title}</h3><p style="font-size: 0.9em; color: var(--text-medium);">Up to ${room.capacity} guests</p></div>
                                    <div class="room-price">${room.price} GEL</div>
                                </div>
                                <ul class="room-features">${featuresHTML}</ul>
                                <div class="room-actions"><button class="btn book-now-btn" data-id="${room.id}" data-title="${room.title}">Book Now</button></div>
                            </div>
                        </div>`;
                }).join('');
                addBookingButtonListeners();
            };
            
            const loadAbout = () => {
                const text = getAboutData();
                const container = document.getElementById('aboutTextContainer');
                if (!container) return;
                container.innerHTML = '<h2>Our Hostel</h2>' + text.split('\n').map(p => `<p>${p}</p>`).join('');
            };

            const loadGallery = () => {
                const images = getGalleryData();
                const container = document.getElementById('galleryGrid');
                if (!container) return;
                container.innerHTML = images.map(image => `<div class="gallery-item"><img src="${image.url}" alt="Gallery Image"></div>`).join('');
            };

            const bookingModal = document.getElementById('bookingModal');
            const bookingForm = document.getElementById('bookingForm');
            const closeModalBtn = document.getElementById('closeBookingModal');
            const bookingRoomIdInput = document.getElementById('bookingRoomId');
            const bookingModalTitle = document.getElementById('bookingModalTitle');
            const checkInDateInput = document.getElementById('checkInDate');
            checkInDateInput.min = new Date().toISOString().split('T')[0];

            const openBookingModal = (roomId, roomTitle) => {
                bookingForm.reset();
                bookingRoomIdInput.value = roomId;
                bookingModalTitle.textContent = `Book: ${roomTitle}`;
                bookingModal.style.display = 'block';
            };
            const closeBookingModal = () => { bookingModal.style.display = 'none'; };
            
            const addBookingButtonListeners = () => {
                document.querySelectorAll('.book-now-btn').forEach(button => {
                    button.addEventListener('click', (e) => openBookingModal(e.target.dataset.id, e.target.dataset.title));
                });
            };

            closeModalBtn.onclick = closeBookingModal;
            window.addEventListener('click', (event) => { if (event.target == bookingModal) closeBookingModal(); });

            bookingForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const roomId = parseInt(bookingRoomIdInput.value);
                const numberOfGuests = parseInt(document.getElementById('numberOfGuests').value);
                const checkInStr = checkInDateInput.value;
                const duration = parseInt(document.getElementById('stayDuration').value);
                
                const checkInDate = new Date(checkInStr);
                const checkOutDate = new Date(checkInStr);
                checkOutDate.setDate(checkOutDate.getDate() + duration);

                const room = getRoomsData().find(r => r.id === roomId);
                if (numberOfGuests > room.capacity) {
                    return alert(`Error: The number of guests (${numberOfGuests}) exceeds room capacity (${room.capacity}).`);
                }

                const conflictingBookings = getBookingsData().filter(b => b.roomId === roomId && new Date(b.checkOutDate) > checkInDate && new Date(b.checkInDate) < checkOutDate);
                
                for (let i = 0; i < duration; i++) {
                    const currentDate = new Date(checkInStr);
                    currentDate.setDate(currentDate.getDate() + i);
                    let guestsOnThisDay = 0;
                    conflictingBookings.forEach(b => {
                        if (currentDate >= new Date(b.checkInDate) && currentDate < new Date(b.checkOutDate)) {
                            guestsOnThisDay += b.numberOfGuests;
                        }
                    });
                    if (guestsOnThisDay + numberOfGuests > room.capacity) {
                        return alert(`Sorry, the room is not available for ${numberOfGuests} guests on ${currentDate.toDateString()}. Only ${room.capacity - guestsOnThisDay} spots left.`);
                    }
                }

                const newBooking = {
                    id: Date.now(),
                    roomId: roomId,
                    userName: document.getElementById('guestName').value,
                    checkInDate: checkInDate.toISOString().split('T')[0],
                    checkOutDate: checkOutDate.toISOString().split('T')[0],
                    numberOfGuests: numberOfGuests
                };
                const allBookings = getBookingsData();
                allBookings.push(newBooking);
                localStorage.setItem('bookings', JSON.stringify(allBookings));
                alert('Booking successful!');
                closeBookingModal();
            });

            loadRooms();
            loadAbout();
            loadGallery();
        });

        // --- СТАРЫЕ СКРИПТЫ ДЛЯ МЕНЮ, СКРОЛЛА И ВХОДА В АДМИНКУ ---
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navMenu = document.getElementById('navMenu');
        mobileMenuBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            mobileMenuBtn.innerHTML = navMenu.classList.contains('active') ? '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
        });

        window.addEventListener('scroll', () => {
            document.getElementById('header').classList.toggle('scrolled', window.scrollY > 100);
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetElement = document.querySelector(this.getAttribute('href'));
                if (targetElement) {
                    window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });
                    if (navMenu.classList.contains('active')) navMenu.classList.remove('active');
                }
            });
        });
        
        document.getElementById('pageFooter').addEventListener('click', (() => {
            let count = 0, timer = null;
            return () => {
                count++;
                clearTimeout(timer);
                if (count === 3) { window.location.href = 'admin.html'; count = 0; } 
                else { timer = setTimeout(() => count = 0, 800); }
            };
        })());
    </script>
</body>
</html>